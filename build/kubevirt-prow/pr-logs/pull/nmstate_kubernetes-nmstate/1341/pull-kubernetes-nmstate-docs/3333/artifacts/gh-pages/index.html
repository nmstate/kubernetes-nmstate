<!DOCTYPE html>
<!--
  Minimal Mistakes Jekyll Theme 4.20.2 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
--><html lang="en" class="no-js">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>The Kubernetes NMState project</title>
<meta name="description" content="A declarative API for Kubernetes node network management">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="The Kubernetes NMState project">
<meta property="og:title" content="The Kubernetes NMState project">
<meta property="og:url" content="https://storage.googleapis.com/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/">


  <meta property="og:description" content="A declarative API for Kubernetes node network management">












<link rel="canonical" href="https://storage.googleapis.com/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "The Kubernetes NMState team",
      "url": "https://storage.googleapis.com/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/feed.xml" type="application/atom+xml" rel="alternate" title="The Kubernetes NMState project Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/"><img src="/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/assets/images/logo/fullcolor.png" alt=""></a>
        
        <a class="site-title" href="/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/">
          The Kubernetes NMState project
          
        </a>
        <ul class="visible-links">
<li class="masthead__menu-item">
              <a href="/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/deployment.html">Deployment</a>
            </li>
<li class="masthead__menu-item">
              <a href="/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/user-guide.html">User Guide</a>
            </li>
<li class="masthead__menu-item">
              <a href="/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/examples.html">Examples</a>
            </li>
<li class="masthead__menu-item">
              <a href="https://github.com/nmstate/kubernetes-nmstate">GitHub</a>
            </li>
</ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name"></h3>
    
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox">
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <a href="/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/deployment.html"><span class="nav__sub-title">Deployment</span></a>
        

        
        <ul>
          
            <li><a href="/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/deployment/local-cluster.html">Local cluster</a></li>
          
            <li><a href="/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/deployment/arbitrary-cluster.html">Arbitrary cluster</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <a href="/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/user-guide.html"><span class="nav__sub-title">User Guide</span></a>
        

        
        <ul>
          
            <li><a href="/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/user-guide/101-reporting.html">Reporting</a></li>
          
            <li><a href="/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/user-guide/102-configuration.html">Configuration</a></li>
          
            <li><a href="/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/user-guide/103-troubleshooting.html">Troubleshooting</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <a href="/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/examples.html"><span class="nav__sub-title">Examples</span></a>
        

        
      </li>
    
      <li>
        
          <a href="https://github.com/nmstate/kubernetes-nmstate"><span class="nav__sub-title">GitHub</span></a>
        

        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          
          


        </header>
      

      <section class="page__content" itemprop="text">
        
        <h1 id="introduction">Introduction</h1>

<p>delete me</p>

<p>[keɪ ɛn ɛm steɪt] Declarative node network configuration driven through Kubernetes API.</p>

<h1 id="how-it-works">How it works</h1>

<p>We use <a href="https://nmstate.io/">nmstate</a> to perform state driven network
configuration on cluster nodes and to report back their current state.
Both the configuration and reporting is controlled via Kubernetes objects.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">nmstate.io/v1beta1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">NodeNetworkConfigurationPolicy</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">br1-eth0</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">desiredState</span><span class="pi">:</span>
    <span class="na">interfaces</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">br1</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">linux-bridge</span>
      <span class="na">state</span><span class="pi">:</span> <span class="s">up</span>
      <span class="na">ipv4</span><span class="pi">:</span>
        <span class="na">dhcp</span><span class="pi">:</span> <span class="no">true</span>
        <span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>
      <span class="na">bridge</span><span class="pi">:</span>
        <span class="na">port</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">eth0</span>
</code></pre></div></div>

<p>The only external dependency is NetworkManager running on nodes. See more
details in
<a href="https://github.com/nmstate/kubernetes-nmstate/blob/master/CONTRIBUTING.md">Compatibility documentation</a>.</p>

<p>Some <a href="examples.html">examples</a> can be used as reference on how to configure various
configuration options</p>

<h1 id="the-why">The “Why”</h1>

<p>With hybrid clouds, node-networking setup is becoming even more challenging.
Different payloads have different networking requirements, and not everything
can be satisfied as overlays on top of the main interface of the node (e.g.
SR-IOV, L2, other L2).
The <a href="https://github.com/containernetworking/cni">Container Network Interface</a>
(CNI) standard enables different
solutions for connecting networks on the node with pods. Some of them are
<a href="https://github.com/containernetworking/plugins">part of the standard</a>, and there are
others that extend support for <a href="https://github.com/kubevirt/ovs-cni">Open vSwitch bridges</a>,
<a href="https://github.com/hustcat/sriov-cni">SR-IOV</a>, and more…</p>

<p>However, in all of these cases, the node must have the networks setup before the
pod is scheduled. Setting up the networks in a dynamic and heterogenous cluster,
with dynamic networking requirements, is a challenge by itself - and this is
what this project is addressing.</p>

<h1 id="development-and-contributing">Development and Contributing</h1>

<p>Contributions are welcome! Find details about the project’s design and
development workflow in the <a href="https://github.com/nmstate/kubernetes-nmstate/blob/master/CONTRIBUTING.md">developer guide</a>.</p>

        
      </section>

      <footer class="page__meta">
        
        


        

      </footer>

      

      
    </div>

    
  </article>

  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://github.com/nmstate/kubernetes-nmstate" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    <li><a href="/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">© 2020 The Kubernetes NMState team. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/kubevirt-prow/pr-logs/pull/nmstate_kubernetes-nmstate/1341/pull-kubernetes-nmstate-docs/3333/artifacts/gh-pages/assets/js/main.min.js"></script>










  </body>
</html>
